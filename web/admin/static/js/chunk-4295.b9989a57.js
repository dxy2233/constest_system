(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4295"],{"3jdf":function(e,t,a){e.exports=a.p+"static/img/user.b436732.jpg"},"5uJR":function(e,t,a){"use strict";a.d(t,"g",function(){return d}),a.d(t,"j",function(){return u}),a.d(t,"e",function(){return p}),a.d(t,"f",function(){return v}),a.d(t,"k",function(){return m}),a.d(t,"h",function(){return f}),a.d(t,"r",function(){return h}),a.d(t,"n",function(){return g}),a.d(t,"o",function(){return b}),a.d(t,"m",function(){return _}),a.d(t,"s",function(){return y}),a.d(t,"i",function(){return S}),a.d(t,"l",function(){return x}),a.d(t,"q",function(){return D}),a.d(t,"p",function(){return k}),a.d(t,"d",function(){return w}),a.d(t,"a",function(){return T}),a.d(t,"c",function(){return O}),a.d(t,"b",function(){return I});var i=a("bS4n"),n=a.n(i),o=a("YReu"),s=a.n(o),l=a("omC7"),r=a.n(l),c=a("t3Un");function d(e,t,a,i){return Object(c.a)({url:"/node/index",method:"post",data:{searchName:e,str_time:t,end_time:a,type:i}})}function u(){return Object(c.a)({url:"/node/get-type-list",method:"post"})}function p(e){return Object(c.a)({url:"/node/get-node-data",method:"post",data:{nodeId:e}})}function v(e){return Object(c.a)({url:"/node/get-node-identify",method:"post",data:{nodeId:e}})}function m(e){return Object(c.a)({url:"/node/get-vote-list",method:"post",data:{nodeId:e}})}function f(e){return Object(c.a)({url:"/node/get-rule",method:"post",data:{nodeId:e}})}function h(e){return Object(c.a)({url:"/node/stop-node",method:"post",data:{nodeId:e}})}function g(e){return Object(c.a)({url:"/node/open-node",method:"post",data:{nodeId:e}})}function b(e){return Object(c.a)({url:"/node/tenure",method:"post",data:{nodeId:e}})}function _(e){return Object(c.a)({url:"/node/un-tenure",method:"post",data:{nodeId:e}})}function y(e,t,a,i,n){return Object(c.a)({url:"/node/update-node",method:"post",data:{nodeId:e,logo:t,name:a,desc:i,scheme:n}})}function S(e){return Object(c.a)({url:"/node/get-node-setting",method:"post",data:{type_id:e}})}function x(){return Object(c.a)({url:"/node/get-rule-list",method:"post"})}function D(e){return Object(c.a)({url:"/node/set-rule",method:"post",data:{data:r()(e)}})}function k(e){var t=e.id,a=e.name,i=e.isExamine,n=e.isCandidate,o=e.isVote,s=e.isOrder,l=e.tenureNum,d=e.maxCandidate,u=e.minMoney,p=e.rulelist;return Object(c.a)({url:"/node/update",method:"post",data:{id:t,name:a,isExamine:i,isCandidate:n,isVote:o,isOrder:s,tenureNum:l,maxCandidate:d,minMoney:u,rule:r()(p)}})}function w(e,t,a){return Object(c.a)({url:"/node/get-history-order",method:"post",data:{type:e,endTime:t,page:a}})}function T(e){var t=s()(e,[]);return Object(c.a)({url:"/node/create-user",method:"post",data:n()({},t)})}function O(e){var t=s()(e,[]);return Object(c.a)({url:"/node/set-identify",method:"post",data:n()({},t)})}function I(e){var t=s()(e,[]);return Object(c.a)({url:"/node/create-node",method:"post",data:n()({},t)})}},"7Qib":function(e,t,a){"use strict";a.d(t,"b",function(){return o}),a.d(t,"a",function(){return s});var i=a("Q2cO"),n=a.n(i);function o(e,t){if(0===arguments.length)return null;var a=t||"{y}-{m}-{d} {h}:{i}:{s}",i=void 0;"object"===(void 0===e?"undefined":n()(e))?i=e:(10===(""+e).length&&(e=1e3*parseInt(e)),i=new Date(e));var o={y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds(),a:i.getDay()};return a.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var a=o[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a="0"+a),a||0)})}function s(e,t,a){var i,n=0,o=e.length;return i=(t-1)*a,n=t*a<o?t*a:o,e.slice(i,n)}},AHu5:function(e,t,a){"use strict";a.r(t);var i=a("6ZY3"),n=a.n(i),o=a("5uJR"),s=a("hrJr"),l=a("7Qib"),r={name:"NodeManagement",data:function(){return{allType:[],nodeType:"",search:"",searchDate:"",tableData:[],tableDataPage:[],rowInfo:[],tableDataSelection:[],currentPage:1,showNodeInfo:!1,cardData:[{name:"当前排名",value:null},{name:"用户",value:null},{name:"票数",value:null},{name:"投票人数",value:null},{name:"资产质押",value:null}],activeName:0,nodeInfoBase:[],nodeInfoIdentify:[],nodeInfoVote:[],nodeInfoRule:[],pollName:"投票记录",dialogEdit:!1,uploadLogo:"",dialogSet:!1,dialogSetType:"",dialogSetData:{},this_tenureNum:"",this_maxCandidate:"",dialogSetRightType:"任职",dialogRight:!1,dialogRightName:"任职权益",dialogSetRuleList:[],dialogHistory:!1,dialogHistoryData:[],dialogHistoryDataPage:[],dialogHistorySearch:"",dialogHistoryType:"",historyCurrentPage:1,dialogAddNode:!1,step:0,tenureData:[{value:1,label:"任职"},{value:0,label:"候选"}],stepfirstData:{mobile:"",code:"",type_id:"",is_tenure:"",grt:"",tt:"",bpt:""},stepSecondData:{user_id:"",realname:"",identify:"",pic_front:"",pic_back:""},stepThirdData:{user_id:"",logo:"",name:"",desc:"",scheme:""}}},computed:{total:function(){return this.tableData.length},historyTotal:function(){return this.dialogHistoryData.length},typeIndex:function(){var e=this,t=0;return this.allType.map(function(a,i){e.nodeType===a.name&&(t=i)}),t},isCandidate:function(){var e=this,t=10;return this.allType.map(function(a,i){e.nodeType===a.name&&(t=a.isCandidate)}),t},historyId:function(){var e=this,t=0;return this.allType.map(function(a,i){e.dialogHistoryType===a.name&&(t=a.id)}),t},setTypeId:function(){var e=this,t=0;return this.allType.map(function(a,i){e.dialogSetType===a.name&&(t=a.id)}),t}},created:function(){var e=this;Object(o.j)().then(function(t){e.allType=t.content,e.nodeType=t.content[0].name,e.dialogSetType=t.content[0].name,e.dialogHistoryType=t.content[0].name}).then(function(t){Object(o.g)(null,null,null,e.allType[0].id).then(function(t){e.tableData=t.content,e.tableData.forEach(function(e,t,a){n()(e,{index:t+1})}),e.tableDataPage=Object(l.a)(e.tableData,e.currentPage,20)})})},methods:{changeNodeType:function(e){var t=this;Object(o.g)(null,null,null,this.allType[this.typeIndex].id).then(function(e){t.tableData=e.content,t.tableData.forEach(function(e,t,a){n()(e,{index:t+1})}),t.tableDataPage=Object(l.a)(t.tableData,t.currentPage,20)})},searchTableData:function(){var e=this;Object(o.g)(this.search,this.searchDate[0],this.searchDate[1],this.allType[this.typeIndex].id).then(function(t){e.tableData=t.content,e.tableData.forEach(function(e,t,a){n()(e,{index:t+1})}),e.tableDataPage=Object(l.a)(e.tableData,e.currentPage,20)})},handleSelectionChange:function(e){this.tableDataSelection=e},changePage:function(e){this.tableDataPage=Object(l.a)(this.tableData,e,20)},clickRow:function(e){this.rowInfo=e,this.showNodeInfo=!0,this.cardData[0].value=e.index,this.cardData[1].value=e.username,this.cardData[2].value=e.voteNumber,this.cardData[3].value=e.count,this.cardData[4].value=e.consume,this.changeTabs({name:this.activeName})},changeTabs:function(e){var t=this;"0"===e.name?Object(o.e)(this.rowInfo.id).then(function(e){t.nodeInfoBase=e.content}):"1"===e.name?Object(o.f)(this.rowInfo.id).then(function(e){t.nodeInfoIdentify=e.content}):"2"===e.name?Object(o.k)(this.rowInfo.id).then(function(e){t.nodeInfoVote=e.content}):"3"===e.name&&Object(o.h)(this.rowInfo.id).then(function(e){t.nodeInfoRule=e.content})},openTenure:function(){var e=this;this.$confirm("确定任职?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.o)(e.rowInfo.id).then(function(t){Object(s.Message)({message:t.msg,type:"success"}),e.rowInfo.isTenure=1})})},closeTenure:function(){var e=this;this.$confirm("确定卸任?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.m)(e.rowInfo.id).then(function(t){Object(s.Message)({message:t.msg,type:"success"}),e.rowInfo.isTenure=0})})},openNode:function(){var e=this;this.$confirm("确定启用?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.n)(e.rowInfo.id).then(function(t){Object(s.Message)({message:t.msg,type:"success"}),e.rowInfo.status=1})})},closeNode:function(){var e=this;this.$confirm("确定停用?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.r)(e.rowInfo.id).then(function(t){Object(s.Message)({message:t.msg,type:"success"}),e.rowInfo.status=0})})},closeAll:function(){var e=this;this.tableDataSelection.length<1||this.$confirm("确定停用吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t="";e.tableDataSelection.map(function(e,a,i){t=t+","+e.id}),Object(o.r)(t.replace(",","")).then(function(t){Object(s.Message)({message:t.msg,type:"success"}),Object(o.g)(null,null,null,e.allType[e.typeIndex].id).then(function(t){e.tableData=t.content,e.tableData.forEach(function(e,t,a){n()(e,{index:t+1})}),e.tableDataPage=Object(l.a)(e.tableData,e.currentPage,20)})})})},nodeBaseEdit:function(){this.dialogEdit=!0,this.changeTabs({name:"0"})},handleAvatarSuccess:function(e,t){this.uploadLogo=e.content,this.nodeInfoBase.logo=URL.createObjectURL(t.raw)},editNodeBase:function(){this.dialogEdit=!1,Object(o.s)(this.rowInfo.id,this.uploadLogo,this.nodeInfoBase.name,this.nodeInfoBase.desc,this.nodeInfoBase.scheme).then(function(e){Object(s.Message)({message:e.msg,type:"success"})})},openNodeSet:function(){var e=this;Object(o.i)(this.setTypeId).then(function(t){e.dialogSetData=t.content,e.this_tenureNum=t.content.tenureNum,e.this_maxCandidate=t.content.maxCandidate}).then(function(t){Object(o.l)().then(function(t){e.dialogSetRuleList=t.content}).then(function(){e.dialogSetRuleList[0].forEach(function(t,a,i){for(var n=0;n<e.dialogSetData.ruleList.length;n++)e.dialogSetData.ruleList[n].ruleId===t.id?(i[a].checked=!0,i[a].maxOrder=e.dialogSetData.ruleList[n].maxOrder,i[a].minOrder=e.dialogSetData.ruleList[n].minOrder):(i[a].maxOrder=0,i[a].minOrder=0)}),e.dialogSetRuleList[1].forEach(function(t,a,i){for(var n=0;n<e.dialogSetData.ruleList.length;n++)e.dialogSetData.ruleList[n].ruleId===t.id?(i[a].checked=!0,i[a].maxOrder=e.dialogSetData.ruleList[n].maxOrder,i[a].minOrder=e.dialogSetData.ruleList[n].minOrder):(i[a].maxOrder=0,i[a].minOrder=0)}),e.dialogSetRuleList[2].forEach(function(t,a,i){for(var n=0;n<e.dialogSetData.ruleList.length;n++)e.dialogSetData.ruleList[n].ruleId===t.id?(i[a].checked=!0,i[a].maxOrder=e.dialogSetData.ruleList[n].maxOrder,i[a].minOrder=e.dialogSetData.ruleList[n].minOrder):(i[a].maxOrder=1,i[a].minOrder=1)}),e.dialogSet=!0})})},changeSetType:function(e){var t=this;Object(o.i)(this.setTypeId).then(function(e){t.dialogSetData=e.content,t.this_tenureNum=e.content.tenureNum,t.this_maxCandidate=e.content.maxCandidate}).then(function(){Object(o.l)().then(function(e){t.dialogSetRuleList=e.content}).then(function(){t.dialogSetRuleList[0].forEach(function(e,a,i){for(var n=0;n<t.dialogSetData.ruleList.length;n++)t.dialogSetData.ruleList[n].ruleId===e.id?(i[a].checked=!0,i[a].maxOrder=t.dialogSetData.ruleList[n].maxOrder,i[a].minOrder=t.dialogSetData.ruleList[n].minOrder):(i[a].maxOrder=0,i[a].minOrder=0)}),t.dialogSetRuleList[1].forEach(function(e,a,i){for(var n=0;n<t.dialogSetData.ruleList.length;n++)t.dialogSetData.ruleList[n].ruleId===e.id?(i[a].checked=!0,i[a].maxOrder=t.dialogSetData.ruleList[n].maxOrder,i[a].minOrder=t.dialogSetData.ruleList[n].minOrder):(i[a].maxOrder=0,i[a].minOrder=0)}),t.dialogSetRuleList[2].forEach(function(e,a,i){for(var n=0;n<t.dialogSetData.ruleList.length;n++)t.dialogSetData.ruleList[n].ruleId===e.id?(i[a].checked=!0,i[a].maxOrder=t.dialogSetData.ruleList[n].maxOrder,i[a].minOrder=t.dialogSetData.ruleList[n].minOrder):(i[a].maxOrder=1,i[a].minOrder=1)}),t.dialogSet=!0})})},openRule:function(){var e=this;Object(o.l)().then(function(t){e.dialogSetRuleList=t.content}),this.dialogRight=!0},deleteRule:function(e,t){0===e?this.dialogSetRuleList[0].splice(t,1):1===e?this.dialogSetRuleList[1].splice(t,1):this.dialogSetRuleList[2].splice(t,1)},addRule:function(e){0===e?this.dialogSetRuleList[0].push({name:"",content:"",isTenure:"0"}):1===e?this.dialogSetRuleList[1].push({name:"",content:"",isTenure:"0"}):this.dialogSetRuleList[2].push({name:"",content:"",isTenure:"1"})},saveRuleList:function(){var e=this,t=[[],[],[]];t[0]=this.dialogSetRuleList[0],t[1]=this.dialogSetRuleList[1],t[2]=this.dialogSetRuleList[2],Object(o.q)(t).then(function(t){Object(s.Message)({message:t.msg,type:"success"}),e.dialogRight=!1})},saveNodeSet:function(){var e=this,t=[];this.dialogSetRuleList.isTenure.forEach(function(e,a,i){e.checked&&(i[a].ruleId=e.id,t.push(i[a]))}),this.dialogSetRuleList.noTenure.forEach(function(e,a,i){e.checked&&(i[a].ruleId=e.id,t.push(i[a]))}),this.dialogSetData.ruleList=t,Object(o.p)(this.dialogSetData).then(function(t){Object(s.Message)({message:t.msg,type:"success"}),e.dialogSet=!1})},openHistory:function(){var e=this;this.dialogHistory=!0,Object(o.d)(this.historyId).then(function(t){e.dialogHistoryData=t.content,e.dialogHistoryData.forEach(function(e,t,a){n()(e,{index:t+1})}),e.dialogHistoryDataPage=Object(l.a)(e.dialogHistoryData,e.historyCurrentPage,20)})},changeHistoryPage:function(e){this.dialogHistoryDataPage=Object(l.a)(this.dialogHistoryData,e,20)},changeHistoryType:function(e){var t=this;Object(o.d)(this.historyId).then(function(e){t.dialogHistoryData=e.content,t.dialogHistoryData.forEach(function(e,t,a){n()(e,{index:t+1})}),t.dialogHistoryDataPage=Object(l.a)(t.dialogHistoryData,t.historyCurrentPage,20)})},historySearch:function(){var e=this;this.dialogHistorySearch&&Object(o.d)(this.historyId,this.dialogHistorySearch).then(function(t){e.dialogHistoryData=t.content,e.dialogHistoryData.forEach(function(e,t,a){n()(e,{index:t+1})}),e.dialogHistoryDataPage=Object(l.a)(e.dialogHistoryData,e.historyCurrentPage,20)})},addStep:function(){var e=this;0===this.step?Object(o.a)(this.stepfirstData).then(function(t){Object(s.Message)({message:t.msg,type:"success"}),e.stepSecondData.user_id=t.content.userId,e.stepThirdData.user_id=t.content.userId,e.isSecond=t.content.isIdentify,0===t.content.isIdentify?e.step=1:1===t.content.isIdentify&&(e.step=2),e.$refs.addNodeForm1.resetFields()}):1===this.step&&Object(o.c)(this.stepSecondData).then(function(t){Object(s.Message)({message:t.msg,type:"success"}),e.step=2,e.$refs.addNodeForm2.resetFields()})},addNodeImgF:function(e,t){this.stepSecondData.pic_front=e.content},addNodeImgB:function(e,t){this.stepSecondData.pic_back=e.content},addNodeImgLogo:function(e,t){this.stepThirdData.logo=e.content},sureAdd:function(){var e=this;this.step=3,Object(o.b)(this.stepThirdData).then(function(t){e.dialogAddNode=!1,Object(s.Message)({message:t.msg,type:"success"}),e.step=0,e.$refs.addNodeForm3.resetFields()})},addExcel:function(){var e=this;Promise.all([a.e("chunk-7fcb"),a.e("chunk-17ef")]).then(a.bind(null,"S/jZ")).then(function(t){var a=e.tableData,i=e.formatJson(["index","name","voteNumber","count","grt","bpt","tt","createTime","status"],a);t.export_json_to_excel({header:["排名","节点名称","票数","支持人数","质押GRT","质押BPT","质押TT","加入时间","状态"],data:i,filename:"节点管理"})})},addExcelHistory:function(){var e=this;Promise.all([a.e("chunk-7fcb"),a.e("chunk-17ef")]).then(a.bind(null,"S/jZ")).then(function(t){var a=e.dialogHistoryData,i=e.formatJson(["index","name","username","voteNumber","count","status"],a);t.export_json_to_excel({header:["排名","节点名称","账号","票数","支持人数","状态"],data:i,filename:"历史排名"})})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"timestamp"===e?Object(l.b)(t[e]):t[e]})})}}},c=(a("k1pE"),a("ZrdR")),d=Object(c.a)(r,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container",on:{click:function(t){if(t.target!==t.currentTarget)return null;e.showNodeInfo=!1}}},[i("h4",[e._v("节点管理")]),e._v(" "),i("el-radio-group",{on:{change:e.changeNodeType},model:{value:e.nodeType,callback:function(t){e.nodeType=t},expression:"nodeType"}},e._l(e.allType,function(e,t){return i("el-radio-button",{key:t,attrs:{label:e.name}})})),e._v(" "),i("el-button",{staticStyle:{float:"right"},on:{click:e.openNodeSet}},[e._v("节点设置")]),e._v(" "),i("el-button",{staticStyle:{float:"right","margin-right":"10px"},on:{click:e.openHistory}},[e._v("历史排名")]),e._v(" "),i("el-button",{staticStyle:{float:"right"},on:{click:function(t){e.dialogAddNode=!0}}},[e._v("增加节点")]),e._v(" "),i("el-button",{staticStyle:{float:"right"},on:{click:e.addExcel}},[e._v("导出excel")]),e._v(" "),i("br"),e._v(" "),i("el-input",{staticStyle:{"margin-top":"20px",width:"300px"},attrs:{placeholder:"用户/节点名称","suffix-icon":"el-icon-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),i("div",{staticStyle:{float:"right","margin-top":"20px"}},[e._v("\n    投票时间\n    "),i("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.searchDate,callback:function(t){e.searchDate=t},expression:"searchDate"}}),e._v(" "),i("el-button",{on:{click:e.searchTableData}},[e._v("查询")])],1),e._v(" "),i("br"),e._v("\n\n  已选择"),i("span",{staticStyle:{color:"#3e84e9"}},[e._v(e._s(e.tableDataSelection.length))]),e._v("项\n  "),i("el-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"small"},on:{click:e.closeAll}},[e._v("停用")]),e._v(" "),i("el-table",{staticStyle:{margin:"10px 0"},attrs:{data:e.tableDataPage},on:{"selection-change":e.handleSelectionChange,"row-click":e.clickRow}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{prop:"index",label:"排名"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:"节点名称"}}),e._v(" "),i("el-table-column",{attrs:{prop:"voteNumber",label:"票数"}}),e._v(" "),i("el-table-column",{attrs:{prop:"count",label:"支持人数"}}),e._v(" "),i("el-table-column",{attrs:{prop:"grt",label:"质押GRT"}}),e._v(" "),i("el-table-column",{attrs:{prop:"bpt",label:"质押BPT"}}),e._v(" "),i("el-table-column",{attrs:{prop:"tt",label:"质押TT"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createTime",label:"加入时间"}}),e._v(" "),i("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?i("el-button",{attrs:{size:"mini",type:"success",round:""}},[e._v("正常")]):e._e(),e._v(" "),1!=t.row.status?i("el-button",{attrs:{size:"mini",type:"danger",round:""}},[e._v("停用")]):e._e()]}}])})],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.currentPage,total:e.total,"page-size":20,layout:"total, prev, pager, next, jumper"},on:{"update:currentPage":function(t){e.currentPage=t},"current-change":e.changePage}}),e._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showNodeInfo,expression:"showNodeInfo"}],staticClass:"fade-slide"},[i("div",{staticClass:"title"},[i("img",{attrs:{src:a("3jdf"),alt:""}}),e._v(" "),i("span",{staticClass:"name"},[e._v(e._s(e.rowInfo.name)),i("br"),i("span",[e._v(e._s(e.nodeType))])]),e._v(" "),i("i",{staticClass:"el-icon-close btn",on:{click:function(t){e.showNodeInfo=!1}}}),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.rowInfo.status,expression:"rowInfo.status==1"}],staticClass:"btn",staticStyle:{margin:"0 10px"},attrs:{type:"primary"},on:{click:e.closeNode}},[e._v("停用")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.rowInfo.status,expression:"rowInfo.status==0"}],staticClass:"btn",staticStyle:{margin:"0 10px"},attrs:{type:"primary"},on:{click:e.openNode}},[e._v("启用")]),e._v(" "),i("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:e.nodeBaseEdit}},[e._v("编辑")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isCandidate&&0==e.rowInfo.isTenure,expression:"isCandidate&&rowInfo.isTenure==0"}],staticClass:"btn",attrs:{type:"primary"},on:{click:e.openTenure}},[e._v("任职")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isCandidate&&1==e.rowInfo.isTenure,expression:"isCandidate&&rowInfo.isTenure==1"}],staticClass:"btn",attrs:{type:"primary"},on:{click:e.closeTenure}},[e._v("卸任")])],1),e._v(" "),i("div",{staticClass:"info"},[i("el-row",{staticClass:"info-row",attrs:{gutter:5}},e._l(e.cardData,function(t,a){return i("el-col",{key:a},[i("el-card",{attrs:{shadow:"never"}},[i("div",{staticClass:"title"},[e._v(e._s(t.name))]),e._v("\n              "+e._s(t.value)+"\n            ")])],1)}))],1),e._v(" "),i("el-tabs",{staticClass:"tabs",on:{"tab-click":e.changeTabs},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"基本信息",name:"0"}},[i("p",{staticStyle:{color:"#888"}},[e._v("logo")]),e._v(" "),i("img",{staticStyle:{display:"block",width:"100px",height:"100px",border:"1px solid #ddd"},attrs:{src:e.nodeInfoBase.logo,alt:""}}),e._v(" "),i("p",{staticStyle:{color:"#888","margin-top":"50px"}},[e._v("机构/个人名称")]),e._v(" "),i("p",[e._v(e._s(e.nodeInfoBase.name))]),e._v(" "),i("p",{staticStyle:{color:"#888","margin-top":"50px"}},[e._v("机构/个人简介")]),e._v(" "),i("p",[e._v(e._s(e.nodeInfoBase.desc))]),e._v(" "),i("p",{staticStyle:{color:"#888","margin-top":"50px"}},[e._v("社区建设方案")]),e._v(" "),i("p",[e._v(e._s(e.nodeInfoBase.scheme))])]),e._v(" "),i("el-tab-pane",{attrs:{label:"实名信息",name:"1"}},[i("p",[i("span",{staticStyle:{"margin-right":"150px"}},[e._v("姓名："+e._s(e.nodeInfoIdentify.realName))]),e._v(" "),i("span",[e._v("身份证号："+e._s(e.nodeInfoIdentify.number))])]),e._v(" "),i("p",[e._v("手持身份证正面")]),e._v(" "),i("img",{attrs:{src:e.nodeInfoIdentify.picFront,alt:""}}),e._v(" "),i("p",[e._v("手持身份证背面")]),e._v(" "),i("img",{attrs:{src:e.nodeInfoIdentify.picBack,alt:""}})]),e._v(" "),i("el-tab-pane",{attrs:{label:"投票明细",name:"2"}},[i("el-radio-group",{staticClass:"radioTabs",model:{value:e.pollName,callback:function(t){e.pollName=t},expression:"pollName"}},[i("el-radio-button",{attrs:{label:"投票记录"}}),e._v(" "),i("el-radio-button",{attrs:{label:"赎回记录"}})],1),e._v(" "),i("el-table",{directives:[{name:"show",rawName:"v-show",value:"投票记录"==e.pollName,expression:"pollName=='投票记录'"}],attrs:{data:e.nodeInfoVote.voteList}},[i("el-table-column",{attrs:{prop:"mobile",label:"手机号"}}),e._v(" "),i("el-table-column",{attrs:{prop:"voteNumber",label:"票数"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createTime",label:"投票时间"}})],1),e._v(" "),i("el-table",{directives:[{name:"show",rawName:"v-show",value:"赎回记录"==e.pollName,expression:"pollName=='赎回记录'"}],attrs:{data:e.nodeInfoVote.orderList}},[i("el-table-column",{attrs:{type:"index",label:"排名"}}),e._v(" "),i("el-table-column",{attrs:{prop:"mobile",label:"用户"}}),e._v(" "),i("el-table-column",{attrs:{prop:"voteNumber",label:"合计票数"}})],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"享有权益",name:"3"}},[i("el-table",{attrs:{data:e.nodeInfoRule,border:""}},[i("el-table-column",{attrs:{prop:"name",label:"权益",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{prop:"content",label:"描述",align:"center"}})],1)],1)],1)],1)]),e._v(" "),i("el-dialog",{staticClass:"node-edit",attrs:{visible:e.dialogEdit,title:"节点编辑"},on:{"update:visible":function(t){e.dialogEdit=t}}},[i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[e._v("基本信息")]),e._v(" "),i("img",{attrs:{src:e.nodeInfoBase.logo,alt:""}}),e._v(" "),i("el-upload",{attrs:{"show-file-list":!1,"on-success":e.handleAvatarSuccess,data:{type:"logo"},name:"image_file",action:"http://admin.contest_system.local/upload/upload/image"}},[i("el-button",{staticStyle:{"margin-top":"30px"}},[e._v("更换logo")])],1)],1),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[e._v("机构/个人名称")]),e._v(" "),i("el-input",{model:{value:e.nodeInfoBase.name,callback:function(t){e.$set(e.nodeInfoBase,"name",t)},expression:"nodeInfoBase.name"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[e._v("机构/个人简介")]),e._v(" "),i("el-input",{attrs:{rows:2,type:"textarea"},model:{value:e.nodeInfoBase.desc,callback:function(t){e.$set(e.nodeInfoBase,"desc",t)},expression:"nodeInfoBase.desc"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[e._v("社区建设方案")]),e._v(" "),i("el-input",{attrs:{rows:2,type:"textarea"},model:{value:e.nodeInfoBase.scheme,callback:function(t){e.$set(e.nodeInfoBase,"scheme",t)},expression:"nodeInfoBase.scheme"}})],1),e._v(" "),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.editNodeBase}},[e._v("确 定")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("取 消")])],1)]),e._v(" "),i("el-dialog",{staticClass:"dialog-set",attrs:{visible:e.dialogSet,title:"节点设置"},on:{"update:visible":function(t){e.dialogSet=t}}},[i("el-radio-group",{on:{change:e.changeSetType},model:{value:e.dialogSetType,callback:function(t){e.dialogSetType=t},expression:"dialogSetType"}},e._l(e.allType,function(e,t){return i("el-radio-button",{key:t,attrs:{label:e.name}})})),e._v(" "),i("el-button",{staticStyle:{float:"right"},on:{click:e.openRule}},[e._v("权益设置")]),e._v(" "),i("div",{staticClass:"row"},[e._v("节点审核功能"),i("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.dialogSetData.isExamine,callback:function(t){e.$set(e.dialogSetData,"isExamine",t)},expression:"dialogSetData.isExamine"}})],1),e._v(" "),i("div",{staticClass:"row"},[e._v("候选人功能"),i("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.dialogSetData.isCandidate,callback:function(t){e.$set(e.dialogSetData,"isCandidate",t)},expression:"dialogSetData.isCandidate"}})],1),e._v(" "),i("div",{staticClass:"row"},[e._v("节点投票功能"),i("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.dialogSetData.isVote,callback:function(t){e.$set(e.dialogSetData,"isVote",t)},expression:"dialogSetData.isVote"}})],1),e._v(" "),i("div",{staticClass:"row"},[e._v("节点排名功能"),i("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.dialogSetData.isOrder,callback:function(t){e.$set(e.dialogSetData,"isOrder",t)},expression:"dialogSetData.isOrder"}})],1),e._v(" "),i("h3",{staticStyle:{padding:"20px 0 0"}},[e._v("规则设置")]),e._v(" "),i("div",{staticClass:"rule"},[i("div",[i("p",[e._v("任职数量")]),e._v(" "),i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.dialogSetData.tenureNum,callback:function(t){e.$set(e.dialogSetData,"tenureNum",t)},expression:"dialogSetData.tenureNum"}}),e._v(" "),i("p",[e._v("当前任职数量 "+e._s(e.this_tenureNum))])],1),e._v(" "),i("div",[i("p",[e._v("候选数量")]),e._v(" "),i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.dialogSetData.maxCandidate,callback:function(t){e.$set(e.dialogSetData,"maxCandidate",t)},expression:"dialogSetData.maxCandidate"}}),e._v(" "),i("p",[e._v("当前候选数量 "+e._s(e.this_maxCandidate))])],1),e._v(" "),i("div",[i("p",[e._v("质押GRT")]),e._v(" "),i("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入内容"},model:{value:e.dialogSetData.grt,callback:function(t){e.$set(e.dialogSetData,"grt",t)},expression:"dialogSetData.grt"}}),e._v(" GRT\n      ")],1),e._v(" "),i("div",[i("p",[e._v("质押BPT")]),e._v(" "),i("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入内容"},model:{value:e.dialogSetData.bpt,callback:function(t){e.$set(e.dialogSetData,"bpt",t)},expression:"dialogSetData.bpt"}}),e._v(" BPT\n      ")],1),e._v(" "),i("div",[i("p",[e._v("质押TT")]),e._v(" "),i("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"请输入内容"},model:{value:e.dialogSetData.tt,callback:function(t){e.$set(e.dialogSetData,"tt",t)},expression:"dialogSetData.tt"}}),e._v(" TT\n      ")],1)]),e._v(" "),i("h3",{staticStyle:{padding:"20px 0 0"}},[e._v("享有权益")]),e._v(" "),i("div",{staticClass:"right"},[i("el-radio-group",{model:{value:e.dialogSetRightType,callback:function(t){e.dialogSetRightType=t},expression:"dialogSetRightType"}},[i("el-radio-button",{attrs:{label:"任职"}}),e._v(" "),i("el-radio-button",{attrs:{label:"候选人"}}),e._v(" "),i("el-radio-button",{attrs:{label:"排名权益"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"任职"==e.dialogSetRightType,expression:"dialogSetRightType=='任职'"}]},[i("div",{staticClass:"right-checkbox"},e._l(e.dialogSetRuleList[0],function(t,a){return i("el-checkbox",{key:a,model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v("\n            "+e._s(t.name)+"\n          ")])}))]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"候选人"==e.dialogSetRightType,expression:"dialogSetRightType=='候选人'"}]},[i("div",{staticClass:"right-checkbox"},e._l(e.dialogSetRuleList[1],function(t,a){return i("el-checkbox",{key:a,model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v("\n            "+e._s(t.name)+"\n          ")])}))]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"排名权益"==e.dialogSetRightType,expression:"dialogSetRightType=='排名权益'"}]},e._l(e.dialogSetRuleList[2],function(t,a){return i("div",{key:a,staticClass:"right-checkbox"},[i("div",{staticClass:"row"},[i("el-checkbox",{staticStyle:{flex:"3"},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v(e._s(t.name))]),e._v(" "),i("span",[e._v("排名")]),e._v(" "),i("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.minOrder,callback:function(a){e.$set(t,"minOrder",a)},expression:"item.minOrder"}},e._l(100,function(e,t){return i("el-option",{key:t,attrs:{value:t+1}})})),e._v(" "),i("span",[e._v("——")]),e._v(" "),i("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:t.maxOrder,callback:function(a){e.$set(t,"maxOrder",a)},expression:"item.maxOrder"}},e._l(100,function(e,t){return i("el-option",{key:t,attrs:{value:t+1}})}))],1)])}))],1),e._v(" "),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.saveNodeSet}},[e._v("确认修改")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogSet=!1}}},[e._v("取 消")])],1)],1),e._v(" "),i("el-dialog",{staticClass:"dialog-right",attrs:{visible:e.dialogRight,title:"权益设置"},on:{"update:visible":function(t){e.dialogRight=t}}},[i("el-radio-group",{staticClass:"radioTabs",model:{value:e.dialogRightName,callback:function(t){e.dialogRightName=t},expression:"dialogRightName"}},[i("el-radio-button",{attrs:{label:"任职权益"}}),e._v(" "),i("el-radio-button",{attrs:{label:"候选人权益"}}),e._v(" "),i("el-radio-button",{attrs:{label:"排名权益"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"任职权益"==e.dialogRightName,expression:"dialogRightName=='任职权益'"}]},[i("div",{staticClass:"rigth-edit"},[i("div",{staticClass:"row"},[i("div",[e._v("权益")]),i("div",[e._v("描述")])]),e._v(" "),e._l(e.dialogSetRuleList[0],function(t,a){return i("div",{key:a,staticClass:"row"},[i("div",[i("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),e._v(" "),i("div",[i("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.content,callback:function(a){e.$set(t,"content",a)},expression:"item.content"}})],1),e._v(" "),i("i",{staticClass:"el-icon-circle-close-outline",on:{click:function(t){e.deleteRule(0,a)}}})])})],2),e._v(" "),i("div",{staticClass:"add"},[i("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){e.addRule(0)}}},[e._v(" 添加一行")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"候选人权益"==e.dialogRightName,expression:"dialogRightName=='候选人权益'"}]},[i("div",{staticClass:"rigth-edit"},[i("div",{staticClass:"row"},[i("div",[e._v("权益")]),i("div",[e._v("描述")])]),e._v(" "),e._l(e.dialogSetRuleList[1],function(t,a){return i("div",{key:a,staticClass:"row"},[i("div",[i("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),e._v(" "),i("div",[i("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.content,callback:function(a){e.$set(t,"content",a)},expression:"item.content"}})],1),e._v(" "),i("i",{staticClass:"el-icon-circle-close-outline",on:{click:function(t){e.deleteRule(1,a)}}})])})],2),e._v(" "),i("div",{staticClass:"add"},[i("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){e.addRule(1)}}},[e._v(" 添加一行")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"排名权益"==e.dialogRightName,expression:"dialogRightName=='排名权益'"}]},[i("div",{staticClass:"rigth-edit"},[i("div",{staticClass:"row"},[i("div",[e._v("权益")]),i("div",[e._v("描述")])]),e._v(" "),e._l(e.dialogSetRuleList[2],function(t,a){return i("div",{key:a,staticClass:"row"},[i("div",[i("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),e._v(" "),i("div",[i("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.content,callback:function(a){e.$set(t,"content",a)},expression:"item.content"}})],1),e._v(" "),i("i",{staticClass:"el-icon-circle-close-outline",on:{click:function(t){e.deleteRule(2,a)}}})])})],2),e._v(" "),i("div",{staticClass:"add"},[i("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){e.addRule(2)}}},[e._v(" 添加一行")])])]),e._v(" "),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.saveRuleList}},[e._v("保 存")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogRight=!1}}},[e._v("取 消")])],1)],1),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogHistory,title:"历史排名"},on:{"update:visible":function(t){e.dialogHistory=t}}},[i("el-radio-group",{on:{change:e.changeHistoryType},model:{value:e.dialogHistoryType,callback:function(t){e.dialogHistoryType=t},expression:"dialogHistoryType"}},e._l(e.allType,function(e,t){return i("el-radio-button",{key:t,attrs:{label:e.name}})})),e._v(" "),i("el-button",{staticStyle:{float:"right"},on:{click:e.addExcelHistory}},[e._v("导出excel")]),e._v(" "),i("div",{staticStyle:{"margin-top":"20px"}},[e._v("\n      截止时间\n      "),i("el-date-picker",{staticStyle:{width:"250px"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH：mm","value-format":"yyyy-MM-dd HH:mm",placeholder:"选择日期时间"},model:{value:e.dialogHistorySearch,callback:function(t){e.dialogHistorySearch=t},expression:"dialogHistorySearch"}}),e._v(" "),i("el-button",{on:{click:e.historySearch}},[e._v("查询")])],1),e._v(" "),i("el-table",{staticStyle:{margin:"10px 0"},attrs:{data:e.dialogHistoryDataPage}},[i("el-table-column",{attrs:{prop:"index",label:"排名"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:"节点名称"}}),e._v(" "),i("el-table-column",{attrs:{prop:"username",label:"账号"}}),e._v(" "),i("el-table-column",{attrs:{prop:"voteNumber",label:"票数"}}),e._v(" "),i("el-table-column",{attrs:{prop:"count",label:"支持人数"}}),e._v(" "),i("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?i("span",[e._v("在职")]):i("span",[e._v("候选")])]}}])})],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.historyCurrentPage,total:e.historyTotal,"page-size":20,layout:"total, prev, pager, next, jumper"},on:{"update:currentPage":function(t){e.historyCurrentPage=t},"current-change":e.changeHistoryPage}})],1),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogAddNode,title:"添加节点"},on:{"update:visible":function(t){e.dialogAddNode=t}}},[i("el-steps",{attrs:{active:e.step,"finish-status":"success"}},[i("el-step",{attrs:{title:"基本信息"}}),e._v(" "),i("el-step",{attrs:{title:"实名认证"}}),e._v(" "),i("el-step",{attrs:{title:"节点信息"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0==e.step,expression:"step==0"}],staticStyle:{"margin-top":"30px"}},[i("el-form",{ref:"addNodeForm1",attrs:{"label-position":"top",model:e.stepfirstData}},[i("el-form-item",{attrs:{prop:"mobile",label:"手机号",required:""}},[i("el-input",{model:{value:e.stepfirstData.mobile,callback:function(t){e.$set(e.stepfirstData,"mobile",t)},expression:"stepfirstData.mobile"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"code",label:"推荐人（推荐码）"}},[i("el-input",{model:{value:e.stepfirstData.code,callback:function(t){e.$set(e.stepfirstData,"code",t)},expression:"stepfirstData.code"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"type_id",label:"节点类型",required:""}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.stepfirstData.type_id,callback:function(t){e.$set(e.stepfirstData,"type_id",t)},expression:"stepfirstData.type_id"}},e._l(e.allType,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{prop:"is_tenure",label:"节点身份",required:""}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.stepfirstData.is_tenure,callback:function(t){e.$set(e.stepfirstData,"is_tenure",t)},expression:"stepfirstData.is_tenure"}},e._l(e.tenureData,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),i("el-form-item",{attrs:{prop:"grt",label:"质押GRT数量",required:""}},[i("el-input",{model:{value:e.stepfirstData.grt,callback:function(t){e.$set(e.stepfirstData,"grt",t)},expression:"stepfirstData.grt"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"tt",label:"质押TT数量",required:""}},[i("el-input",{model:{value:e.stepfirstData.tt,callback:function(t){e.$set(e.stepfirstData,"tt",t)},expression:"stepfirstData.tt"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"bpt",label:"质押BPT数量",required:""}},[i("el-input",{model:{value:e.stepfirstData.bpt,callback:function(t){e.$set(e.stepfirstData,"bpt",t)},expression:"stepfirstData.bpt"}})],1)],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.step,expression:"step==1"}],staticStyle:{"margin-top":"30px"}},[i("el-form",{ref:"addNodeForm2",attrs:{"label-position":"top",model:e.stepSecondData}},[i("el-form-item",{attrs:{prop:"realname",label:"姓名",required:""}},[i("el-input",{model:{value:e.stepSecondData.realname,callback:function(t){e.$set(e.stepSecondData,"realname",t)},expression:"stepSecondData.realname"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"identify",label:"身份证号",required:""}},[i("el-input",{model:{value:e.stepSecondData.identify,callback:function(t){e.$set(e.stepSecondData,"identify",t)},expression:"stepSecondData.identify"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"pic_front",label:"手持身份证正面照",required:""}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":e.addNodeImgF,data:{type:"identify"},action:"http://admin.contest_system.local/upload/upload/image",name:"image_file"}},[e.stepSecondData.pic_front?i("img",{staticClass:"avatar",attrs:{src:e.stepSecondData.pic_front}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),i("el-form-item",{attrs:{prop:"pic_back",label:"手持身份证背面照",required:""}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":e.addNodeImgB,data:{type:"identify"},action:"http://admin.contest_system.local/upload/upload/image",name:"image_file"}},[e.stepSecondData.pic_back?i("img",{staticClass:"avatar",attrs:{src:e.stepSecondData.pic_back}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==e.step||3==e.step,expression:"step==2||step==3"}]},[i("el-form",{ref:"addNodeForm3",attrs:{"label-position":"top",model:e.stepThirdData}},[i("el-form-item",{attrs:{prop:"logo",label:"节点logo",required:""}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,"on-success":e.addNodeImgLogo,data:{type:"logo"},action:"http://admin.contest_system.local/upload/upload/image",name:"image_file"}},[e.stepThirdData.logo?i("img",{staticClass:"avatar",attrs:{src:e.stepThirdData.logo}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),i("el-form-item",{attrs:{prop:"name",label:"机构/个人名称",required:""}},[i("el-input",{model:{value:e.stepThirdData.name,callback:function(t){e.$set(e.stepThirdData,"name",t)},expression:"stepThirdData.name"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"desc",label:"机构/个人简介",required:""}},[i("el-input",{model:{value:e.stepThirdData.desc,callback:function(t){e.$set(e.stepThirdData,"desc",t)},expression:"stepThirdData.desc"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"scheme",label:"社区建设方案",required:""}},[i("el-input",{model:{value:e.stepThirdData.scheme,callback:function(t){e.$set(e.stepThirdData,"scheme",t)},expression:"stepThirdData.scheme"}})],1)],1)],1),e._v(" "),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.step<2,expression:"step<2"}],attrs:{type:"primary"},on:{click:e.addStep}},[e._v("下一步")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:2==e.step,expression:"step==2"}],attrs:{type:"primary"},on:{click:e.sureAdd}},[e._v("确认添加")])],1)],1)],1)},[],!1,null,"24b750df",null);d.options.__file="index.vue";t.default=d.exports},Uo8K:function(e,t,a){var i=a("fz6b"),n=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},YReu:function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t){var a={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(a[i]=e[i]);return a}},YlWj:function(e,t,a){},k1pE:function(e,t,a){"use strict";var i=a("YlWj");a.n(i).a},omC7:function(e,t,a){e.exports={default:a("Uo8K"),__esModule:!0}}}]);